const t=11e3;let e=[{t(e){const{pitch:s,length:r}=e||{pitch:0,length:1};let n=0;const o=2**((s-24)/12)*1.24,c=Math.pow(.9999,2/r);return()=>{if(0===s)return 0;let e=(n*o/2&89)/96-.75;return++n,r*t>n?.8*e*(n>r*t*.8?Math.pow(c,n-r*t*.8):1):void 0}},o:(t=>{const e=t.split(",").reduce((t,e)=>{const[s,r]=e.split("~");return(parseInt(r)||1)+t},0),s=Array.from({length:e});let r=0;return t.split(",").forEach(t=>{const[e,n]=t.split("~"),o=isNaN(parseInt(n))?1:parseInt(n);s[r]={pitch:isNaN(parseInt(e))?0:parseInt(e),length:o},r+=o}),s})("27~6,27~1,29~1,27~1,26~1,24~1,27~2,27~1,24~1,27~6,26~1,27~1,24~1,22~1,19~1,20~1,22~9,20~1,19~1,17~1,19~1,20~1,22~1,24~1,22~9,24~1,26~1,24~1,22~1,20~1,19~1,17~1,19~1,17~1,15~4,15~1,17~1,19~1,~1,20~1,~1,17~4,22~17,~3,29~7,27~1,26~1,24~1,26~1,27~1,29~1,27~1,26~3,27~1,26~1,24~1,27~1,26~1,24~1,20~3,20~1,20~1,20~1,~1,24~1,~1,27~1,24~1,26~1,22~1,20~2,20~1,20~1,20~1,~1,24~1,~1,26~1,22~1,24~1,20~1,17~2,17~1,15~1,17~6,17~1,17~1,17~1,~1,20~1,~1,24~1,20~1,22~1,19~1,17~2,17~1,15~1,17~6,17~1,15~1,17~2,19~1,20~1,22~9,20~1,19~1,17~1,15~2,22~1,22~1,22~1,~1,22~1,22~1,22~1,~1,22~1,~1,22~1,~1,22~1,22~1,22~1,~1,22~1,22~1,22~1,22~1,22~1,22~1,22~1")}],s=[];const r=(e,r,n)=>{e=Math.round(e*r),e|=0;let o=0;for(let r of n){let n=0;for(let o=0;r.o.length>o;o++){const c=r.o[o];if(!c)continue;const i=c.length*t;if(e===n){const t=r.t(c);s.push(t)}if(n+=i,n>e)break}}for(let t=0;s.length>t;++t){let e=s[t]();void 0!==e?o+=e:s.splice(t--,1)}return o/8};class n extends AudioWorkletProcessor{playbackRate=1;i=0;h=128;sampleCount=e[0].o.reduce((t,e)=>t+44e3*(e?.length||0)/4,0);constructor(){super(),this.port.onmessage=()=>{}}process(t,s,n){const o=s[0][0],c=this.i,i=this.i+this.h;for(let t=c;i>t;t++)o[t-c]=r(t,this.playbackRate,e);return this.i=i,this.i>this.sampleCount/this.playbackRate&&(this.i=0),!0}}registerProcessor("music-processor",n);